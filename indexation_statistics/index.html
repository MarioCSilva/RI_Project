
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.9">
    
    
      
        <title>Indexation Statistics for 1st Assignment - Indexation and Search System</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2b4465f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#indexation-statistics-for-1st-assignment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Indexation and Search System" class="md-header__button md-logo" aria-label="Indexation and Search System" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Indexation and Search System
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Indexation Statistics for 1st Assignment
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/MarioCSilva/RI_project/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Indexation and Search System
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Indexation and Search System" class="md-nav__button md-logo" aria-label="Indexation and Search System" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Indexation and Search System
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MarioCSilva/RI_project/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Indexation and Search System
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authors/" class="md-nav__link">
        Authors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../boost_statistics/" class="md-nav__link">
        Query Ranking Statistics for the 3rd Assignment
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Indexation Statistics for 1st Assignment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Indexation Statistics for 1st Assignment
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_digital_video_games_v1_00tsvgz-262-mb" class="md-nav__link">
    Dataset: amazon_reviews_us_Digital_Video_Games_v1_00.tsv.gz (26.2 MB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_digital_music_purchase_v1_00tsvgz-2418-mb" class="md-nav__link">
    Dataset: amazon_reviews_us_Digital_Music_Purchase_v1_00.tsv.gz (241.8 MB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_music_v1_00tsvgz14gb" class="md-nav__link">
    Dataset: amazon_reviews_us_Music_v1_00.tsv.gz(1.4GB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_books_v1_00tsvgz-26-gb" class="md-nav__link">
    Dataset: amazon_reviews_us_Books_v1_00.tsv.gz (2.6 GB)
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../instructions/" class="md-nav__link">
        Instructions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ranking_statistics/" class="md-nav__link">
        Ranking Statistics for 2nd Assignment
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_digital_video_games_v1_00tsvgz-262-mb" class="md-nav__link">
    Dataset: amazon_reviews_us_Digital_Video_Games_v1_00.tsv.gz (26.2 MB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_digital_music_purchase_v1_00tsvgz-2418-mb" class="md-nav__link">
    Dataset: amazon_reviews_us_Digital_Music_Purchase_v1_00.tsv.gz (241.8 MB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_music_v1_00tsvgz14gb" class="md-nav__link">
    Dataset: amazon_reviews_us_Music_v1_00.tsv.gz(1.4GB)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-amazon_reviews_us_books_v1_00tsvgz-26-gb" class="md-nav__link">
    Dataset: amazon_reviews_us_Books_v1_00.tsv.gz (2.6 GB)
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/MarioCSilva/RI_project/edit/master/docs/indexation_statistics.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="indexation-statistics-for-1st-assignment">Indexation Statistics for 1st Assignment</h1>
<p>In this part we gather statistics like the following:</p>
<p>a) Total indexing time. (No filters)</p>
<p>b) Total index size on disk.</p>
<p>c) Vocabulary size (number of terms).</p>
<p>d) Number of temporary index segments written to disk (before merging).</p>
<p>e) Amount of time taken to start up an index searcher, after the final index is written to disk.</p>
<h3 id="dataset-amazon_reviews_us_digital_video_games_v1_00tsvgz-262-mb">Dataset: amazon_reviews_us_Digital_Video_Games_v1_00.tsv.gz (26.2 MB)</h3>
<table>
<thead>
<tr>
<th></th>
<th>Run #1</th>
<th>Run #2</th>
<th>Run #3</th>
<th>Run #4</th>
<th>Run #5</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Length Filter: 3</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Stop Words Filter</td>
<td>❌</td>
<td>❌</td>
<td>✔️</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>Snowball Stemmer Filter</td>
<td>❌</td>
<td>✔️</td>
<td>✔️</td>
<td>❌</td>
<td>✔️</td>
</tr>
<tr>
<td>Map Reduce</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Total indexing time</td>
<td>38.2 seconds</td>
<td>97.6 seconds</td>
<td>92.9 seconds</td>
<td>164.2 seconds</td>
<td>212.1 seconds</td>
</tr>
<tr>
<td>Total index size on disk</td>
<td>47.834 MBs</td>
<td>46.545 MBs</td>
<td>33.674 MBs</td>
<td>47.844 MBs</td>
<td>46.555 MBs</td>
</tr>
<tr>
<td>Vocabulary size</td>
<td>70407</td>
<td>49332</td>
<td>49265</td>
<td>70402</td>
<td>49326</td>
</tr>
<tr>
<td>Temporary index segments written to disk</td>
<td>6</td>
<td>6</td>
<td>4</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>Time to start up an index searcher</td>
<td>0.0894 seconds</td>
<td>0.0679 seconds</td>
<td>0.0797 seconds</td>
<td>0.0832 seconds</td>
<td>0.0780 seconds</td>
</tr>
</tbody>
</table>
<p>From these results, we are able to observe the difference in a few aspects.</p>
<ul>
<li>
<p>The stop words filter can have a big impact even though it only ignores 67 terms from being processed, it reduces by 27.7% the total index size on disk, because these words are very common and have huge posting lists.</p>
</li>
<li>
<p>The usage of the snowball stemmer filter has a big impact on the total indexing time due to it's high computational cost, but reduces significantly the vocabulary size, which may be relevant for search queries.</p>
</li>
<li>
<p>With the map reduce method, because of the overhead costs, explained more in detail in the Structure section, it has bigger total indexing times, however, the difference of total indexing time between map reduce with low CPU intensive operations during tokenization (using only minimum length Filter) and a higher CPU intensive (with snowball stemmer Filter) is much smaller when compared to the indexation with the normal algorithm, thus, the time went up by 29.2% and the normal algorithm went up by 155.5%.</p>
</li>
</ul>
<h3 id="dataset-amazon_reviews_us_digital_music_purchase_v1_00tsvgz-2418-mb">Dataset: amazon_reviews_us_Digital_Music_Purchase_v1_00.tsv.gz (241.8 MB)</h3>
<table>
<thead>
<tr>
<th></th>
<th>Run #1</th>
<th>Run #2</th>
<th>Run #3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Length Filter: 3</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Stop Words Filter</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>Snowball Stemmer Filter</td>
<td>❌</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Map Reduce</td>
<td>❌</td>
<td>❌</td>
<td>✔️</td>
</tr>
<tr>
<td>Total indexing time</td>
<td>9.8 minutes</td>
<td>19.8 minutes</td>
<td>25.5 minutes</td>
</tr>
<tr>
<td>Total index size on disk</td>
<td>411.621 MBs</td>
<td>403.723 MBs</td>
<td>403.735 MBs</td>
</tr>
<tr>
<td>Vocabulary size</td>
<td>330690</td>
<td>265154</td>
<td>265154</td>
</tr>
<tr>
<td>Temporary index segments written to disk</td>
<td>46</td>
<td>45</td>
<td>17</td>
</tr>
<tr>
<td>Time to start up an index searcher</td>
<td>0.9606 seconds</td>
<td>0.5429 seconds</td>
<td>0.4480 seconds</td>
</tr>
</tbody>
</table>
<ul>
<li>Here we can see that the overhead of the map reducer is still too costly for these kind of operations, if it was able to process less temporary segments, meaning that it would process more quantity of data each time it is called, it would be able to benefit more. Instead of 17 temporary index segments, if it had around 4, chances are it would be even faster, however we were not able to test it because of deadlocks that happen whenever the queues that share data between processes get too large.</li>
</ul>
<h3 id="dataset-amazon_reviews_us_music_v1_00tsvgz14gb">Dataset: amazon_reviews_us_Music_v1_00.tsv.gz(1.4GB)</h3>
<table>
<thead>
<tr>
<th></th>
<th>Run #1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Length Filter: 3</td>
<td>✔️</td>
</tr>
<tr>
<td>Stop Words Filter</td>
<td>❌</td>
</tr>
<tr>
<td>Snowball Stemmer Filter</td>
<td>❌</td>
</tr>
<tr>
<td>Map Reduce</td>
<td>❌</td>
</tr>
<tr>
<td>Total indexing time</td>
<td>68.3 minutes</td>
</tr>
<tr>
<td>Total index size on disk</td>
<td>2650.859 MBs</td>
</tr>
<tr>
<td>Vocabulary size</td>
<td>1133257</td>
</tr>
<tr>
<td>Temporary index segments written to disk</td>
<td>293</td>
</tr>
<tr>
<td>Time to start up an index searcher</td>
<td>3.8156 seconds</td>
</tr>
</tbody>
</table>
<h3 id="dataset-amazon_reviews_us_books_v1_00tsvgz-26-gb">Dataset: amazon_reviews_us_Books_v1_00.tsv.gz (2.6 GB)</h3>
<table>
<thead>
<tr>
<th></th>
<th>Run #1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Length Filter: 3</td>
<td>✔️</td>
</tr>
<tr>
<td>Stop Words Filter</td>
<td>❌</td>
</tr>
<tr>
<td>Snowball Stemmer Filter</td>
<td>❌</td>
</tr>
<tr>
<td>Map Reduce</td>
<td>❌</td>
</tr>
<tr>
<td>Total indexing time</td>
<td>85.6 minutes</td>
</tr>
<tr>
<td>Total index size on disk</td>
<td>4353.265 MBs</td>
</tr>
<tr>
<td>Vocabulary size</td>
<td>1328795</td>
</tr>
<tr>
<td>Temporary index segments written to disk</td>
<td>482</td>
</tr>
<tr>
<td>Time to start up an index searcher</td>
<td>4.4627 seconds</td>
</tr>
</tbody>
</table>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../boost_statistics/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Query Ranking Statistics for the 3rd Assignment" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Query Ranking Statistics for the 3rd Assignment
            </div>
          </div>
        </a>
      
      
        
        <a href="../instructions/" class="md-footer__link md-footer__link--next" aria-label="Next: Instructions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Instructions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.960e086b.min.js"></script>
      
    
  </body>
</html>